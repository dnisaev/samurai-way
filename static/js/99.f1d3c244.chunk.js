"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[99],{7100:function(e,t,s){s(2791);t.Z=s.p+"static/media/default-avatar.c1e948835e196f3d0cec1cb100fe13ab.svg"},3099:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var r=s(5671),o=s(3144),n=s(136),i=s(2882),a=s(2791),l="Profile_content__hLdHO",c=s(4165),u=s(5861),d=s(9439),p={descriptionBlock:"ProfileInfo_descriptionBlock__81Cdk",profileDataFormBlock:"ProfileInfo_profileDataFormBlock__Lj35j",wrapper:"ProfileInfo_wrapper__OrR+l",avatar:"ProfileInfo_avatar__GFTys",photoWrapper:"ProfileInfo_photoWrapper__yABWm"},f=s(7774),h=s(7100),v=s(184),x=function(e){var t=(0,a.useState)(!1),s=(0,d.Z)(t,2),r=s[0],o=s[1],n=(0,a.useState)(e.status),i=(0,d.Z)(n,2),l=i[0],c=i[1];(0,a.useEffect)((function(){c(e.status)}),[e.status]);return(0,v.jsxs)(v.Fragment,{children:[!r&&(0,v.jsx)("div",{children:(0,v.jsxs)("div",{onDoubleClick:function(){o(!0)},children:[(0,v.jsx)("strong",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),": ",l]})}),r&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatusTC(l)},value:l})})]})},j=s(1117),m=s(704),g=s(3079),C=(0,m.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var t=e.handleSubmit,s=e.profile,r=e.error;return(0,v.jsxs)("form",{onSubmit:t,className:p.profileDataFormBlock,children:[(0,v.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),r&&(0,v.jsx)("div",{className:p.formSummeryError,children:r}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),": ",(0,j.Gr)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","fullName",[g.C],j.II)]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041d\u0430\u0432\u044b\u043a\u0438"}),": ",(0,j.Gr)("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0432\u044b\u043a\u0438","lookingForAJobDescription",[g.C],j.gx)]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",(0,j.Gr)("\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0435\u0431\u044f","aboutMe",[g.C],j.gx)]}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":"," ",Object.keys(s.contacts).map((function(e){return(0,v.jsxs)("div",{children:[e,": ",(0,j.Gr)(e,"contacts.".concat(e),[],j.II)]},e)}))]})]})})),P=function(e){var t=e.profile,s=e.isOwner,r=e.activateEditMode;return(0,v.jsxs)("div",{className:p.profileDataBlock,children:[s&&(0,v.jsx)("button",{onClick:r,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,v.jsx)("h2",{children:t.fullName}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041d\u0430\u0432\u044b\u043a\u0438"}),": ",t.lookingForAJobDescription]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",t.aboutMe]}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":"," ",Object.keys(t.contacts).map((function(e){return t.contacts[e]?(0,v.jsx)(k,{contactTitle:e,contactValue:t.contacts[e]},e):""}))]})})]})},k=function(e){var t=e.contactTitle,s=e.contactValue;return{contactValue:s}&&(0,v.jsxs)("span",{children:[(0,v.jsx)("b",{children:t}),": ",s]})},b=function(e){var t,s=e.isOwner,r=e.profile,o=e.status,n=e.updateStatusTC,i=e.savePhotoTC,l=e.saveProfileTC,j=(0,a.useState)(!1),m=(0,d.Z)(j,2),g=m[0],k=m[1],b=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:_(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){k(!1)};if(!r)return(0,v.jsx)(f.Z,{});var T={aboutMe:r.aboutMe,fullName:r.fullName,lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription};return(0,v.jsx)("div",{className:p.content,children:(0,v.jsxs)("div",{className:p.wrapper,children:[(0,v.jsxs)("div",{className:p.photoWrapper,children:[(0,v.jsx)("img",{className:p.avatar,src:(null===(t=r.photos)||void 0===t?void 0:t.large)||h.Z,alt:"avatar-profile"}),s&&(0,v.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&i(e.target.files[0])}})]}),(0,v.jsxs)("div",{className:p.descriptionBlock,children:[g?(0,v.jsx)(C,{initialValues:T,profile:r,onSubmit:b}):(0,v.jsx)(P,{profile:r,isOwner:s,activateEditMode:function(){k(!0)}}),(0,v.jsx)(x,{status:o,updateStatusTC:n})]})]})})},_=s(81),T="MyPosts_postsBlock__ufcd4",Z="MyPosts_posts__pTbEO",w="Post_post__xstOU",y="Post_likes__wur1J",S=function(e){var t=e.id,s=e.message,r=e.likesCount,o=e.photos;return(0,v.jsxs)("div",{className:w,id:t,children:[(0,v.jsx)("img",{src:o.large||h.Z,alt:"user"}),(0,v.jsx)("div",{children:s}),(0,v.jsx)("div",{className:y,children:(0,v.jsxs)("span",{children:["\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f: ",r]})})]})},N=s(6139),I=a.memo((function(e){var t=e.posts,s=e.addPost,r=e.photos,o=t.map((function(e){return(0,v.jsx)(S,{message:e.message,likesCount:e.likesCount,id:e.id,photos:r},e.id)}));return(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("h3",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,v.jsx)("div",{children:(0,v.jsx)(A,{onSubmit:function(e){s(e.newPostText)}})}),(0,v.jsx)("div",{className:Z,children:o})]})})),A=(0,m.Z)({form:"profileAddPostForm"})((function(e){var t=(0,g.D)(10);return(0,v.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(N.Z,{component:j.gx,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[g.C,t]})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),F=s(4420),O=(0,F.$j)((function(e){return{posts:e.profilePage.posts,photos:e.profilePage.profile.photos}}),{addPost:_.q2})(I),D=function(e){var t=e.isOwner,s=e.profile,r=e.status,o=e.updateStatusTC,n=e.savePhotoTC,i=e.saveProfileTC;return s?(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(b,{profile:s,status:r,updateStatusTC:o,savePhotoTC:n,saveProfileTC:i,isOwner:t}),(0,v.jsx)(O,{})]}):(0,v.jsx)(f.Z,{})},B=s(2558),M=s(1154),G=s(2932),J=function(e){(0,n.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="30560"),this.props.getProfileTC(e),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)("div",{className:l,children:(0,v.jsx)(D,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,savePhotoTC:this.props.savePhotoTC,saveProfileTC:this.props.saveProfileTC})})}}]),s}(a.PureComponent),E=(0,M.qC)(G.D,(0,F.$j)((function(e){var t;return{isOwner:null,profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId,isAuth:e.auth.isAuth}}),{getProfileTC:_.GA,getStatusTC:_.GP,updateStatusTC:_.OG,savePhotoTC:_.Tw,saveProfileTC:_.Ms}),B.EN)(J)},2932:function(e,t,s){s.d(t,{D:function(){return f}});var r=s(1413),o=s(5671),n=s(3144),i=s(136),a=s(2882),l=s(2791),c=s(2558),u=s(4420),d=s(184),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){(0,i.Z)(l,t);var s=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),s.apply(this,arguments)}return(0,n.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(c.l_,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p)(t)}}}]);
//# sourceMappingURL=99.f1d3c244.chunk.js.map